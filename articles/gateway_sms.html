<img src="https://github.com/ivaste/GatewaySMS/raw/master/Documentation/GatewaySMS_Scheme.png" max-height="400" class="img-responsive">
<h1>Overview</h1>
<p class="text-justify">GatewaySMS is a NodeJS Express - Android system that convert an API request to a SMS.
Currently (2019) it is not possible to use the internet to send text messages to mobile phones. You must necessarily use the GSM network, therefore a particular antenna capable of connecting.
From a brief feasibility study it turned out that using a physical hardware device like Arduino (30 €) or Raspberry Pi (40 €) with the SIM900 shield <a href="https://www.amazon.it/AZDelivery-SIM-900-Antenna-Arduino/dp/B01M9J4N56/ref=sr_1_2?ie=UTF8&amp;qid=1544983884&amp;sr=8-2&amp;keywords=arduino+gsm+shield+2">Link</a> (30 €), is not convenient, especially for the low reliability, the continuous maintenance required and non-portability.
Any Android smartphone is enough, better if it has dual SIM support.
<h1>Installation</h1>
Open GatewaySMS-Server-NodeJS folder and use the package manager <a href="https://www.npmjs.com/get-npm">npm</a> to install the needed components:
<pre class="EnlighterJSRAW" data-enlighter-language="bash">npm install --save express socket.io
npm install body-parser --save
</pre>
<h1>Usage</h1>
Start the server by running:
<pre class="EnlighterJSRAW" data-enlighter-language="bash">node index.js
</pre>
Install the apk to the Android smartphones that you want to use has SMS sender.

API POST structure:
<pre class="EnlighterJSRAW" data-enlighter-language="bash">URL: http://192.168.1.105:3000/sendmessage
Header:
Content-Type: application/json
Body:
{
  "number": "+391234567891",
  "text": "helloooo"
}
</pre>
API POST example:
<pre class="EnlighterJSRAW" data-enlighter-language="bash">curl -X POST -H 'Content-Type: application/json' -d '{
  "number": "+391234567891",
  "text": "helloooo"
}' -v -i 'http://192.168.1.105:3000/sendmessage'
</pre>

<hr>

<h1 class="center">Why building a Gateway SMS?</h1>
<h2>The Problem</h2>
<p class="text-justify">We want to send SMS messages to our users, like for: Login message, password recovery, "Merry Christmas", "Happy New Year", "a good start to this new school year", some opportunities for a specific school, etc...
An external service such as Twillio, Nexmo or netfunitalia charge 5-8 cents per message in Italy.
There are about 4 million students in Italian high schools, all possible users of WeStudents.
So to send an SMS to all our users would cost us €200,000 or otherwise on the order of tens of thousands.
<h2>The Solution</h2>
<p class="text-justify">Build a service, hosted on the WeStudents servers, that sent an API request with sender cell number and text to be sent, through the internet connection communicate this request to a device equipped with a SIM and a GSM antenna that will send the SMS.</p>
Currently (2019) it is not possible to use the internet to send text messages to mobile phones. You must necessarily use the GSM network, therefore a particular antenna capable of connecting.
From a brief feasibility study it turned out that using a physical hardware device like Arduino (30 €) or Raspberry Pi (40 €) with the SIM900 shield [Link](https://www.amazon.it/AZDelivery-SIM-900-Antenna-Arduino/dp/B01M9J4N56/ref=sr_1_2?ie=UTF8&amp;qid=1544983884&amp;sr=8-2&amp;keywords=arduino+gsm+shield+2) (30 €), is not convenient, especially for the low reliability, the continuous maintenance required and non-portability.

Any Android smartphone is enough, better if it has dual SIM suppor
<h2>Limits</h2>
<p class="text-justify">The offers "unlimited SMS" do not really give the possibility to send an infinite number of messages, both for physical limitations of the telecommunications infrastructure and because the main Italian mobile phone operators put a maximum number of messages that can be sent. Generally:
- Max 30 sms/min
- Max 200 sms/day
- Max 3000 sms/month
<h2>Costs</h2>
<p class="text-justify">
- Cost of a SIM: € 10 activation + 3-5 €/month for the plan
- Annual SIM cost: 46-70 €
- Smartphone cost: &lt;50 €
- Annual smartphone cost: &lt;25 € (If we change smartphone every 2 years)
- Annual smartphone cost + 2 SIM: 117-165 €
- Max sms/year per SIM: 36,000
- Max sms/year per smartphone: 72,000 (If the smartphone has 2 SIM)
- <strong>Cost per SMS:</strong> 165/72,000 = <strong>0.00229 €</strong> = 2.5 € thousandths (rounded)
- Cost of an external service: 5-8 cents/sms
- <strong>Savings:</strong> 0.05 / 0.0025 = <strong>20 times less = 95%</strong>
<div class="center download-resume">
<h1>View the Code</h1>
<a href="https://github.com/ivaste/GatewaySMS" class="btn btn-warning">GitHub Code</a>

</div>